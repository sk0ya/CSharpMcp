# McpInsight

[English version here](README.md)

## 概要
McpInsightは標準入出力（stdio）を介して通信するC#製MCPサーバーのデバッグツールです。完全なクライアント実装を必要とせずに、MCPクライアントとサーバー間の対話をテスト、デバッグ、監視することができます。

## 主な機能
- **リアルタイム監視**: MCPクライアントとサーバー間のメッセージトラフィックをリアルタイムで監視
- **インタラクティブテスト**: MCPサーバーコマンドの対話的なテスト機能
- **メッセージ分析**: 簡単な分析のためのメッセージ検査とフォーマット
- **プロトコルサポート**: 標準MCPプロトコル操作の完全サポート
- **開発支援**: MCPサーバー開発のためのデバッグユーティリティ

## 使用方法

### 基本的な使用手順
1. **McpInsightを起動**: アプリケーションを開始します
2. **サーバー接続設定**: テストしたいMCPサーバーへの接続を設定します
3. **コマンドテスト**: テストコマンドを送信し、応答を監視します
4. **通信フロー分析**: クライアントとサーバー間の通信フローを詳細に分析します

### サポートされる機能
- **Tools**: MCPサーバーが提供するツール機能のテスト
- **Prompts**: プロンプト機能のテストと検証
- **Resources**: リソースアクセス機能の確認
- **Message Logging**: すべての通信内容の詳細ログ
- **Error Handling**: エラー状況の詳細な分析

## 技術仕様

### 必要条件
- **.NET 8.0以上**: 最新の.NETランタイムが必要
- **Windows OS**: Windows環境での動作を前提
- **MCP stdio サーバー**: テスト対象となるstdioベースのMCPサーバー

### サポートされるMCPサーバー
- FileSystemサーバー
- PowerShellサーバー
- Timeサーバー
- RSSサーバー
- その他のstdioベースのカスタムMCPサーバー

## 開発者向け情報

### ビルドと実行
```bash
cd McpInsight
dotnet build
dotnet run
```

### デバッグモード
開発中のMCPサーバーをデバッグする際は：
1. McpInsightを起動
2. 開発中のサーバーのパスを指定
3. 各種MCPメッセージを送信してテスト
4. レスポンスとエラーを詳細に分析

### ログ機能
- **送信メッセージ**: クライアントからサーバーへの全メッセージを記録
- **受信メッセージ**: サーバーからの全レスポンスを記録
- **エラートラッキング**: 通信エラーや プロトコルエラーの詳細追跡
- **パフォーマンス測定**: レスポンス時間の測定

## トラブルシューティング

### よくある問題
- **接続エラー**: サーバーパスと引数の確認
- **タイムアウト**: サーバーの起動状況を確認
- **プロトコルエラー**: MCPメッセージ形式の検証

### デバッグのヒント
- サーバー起動時の標準出力を確認
- MCPメッセージの形式が正しいことを確認
- セキュリティ制限（ファイルアクセス権限など）を確認

## 貢献
McpInsightへの貢献を歓迎します。以下の方法で貢献できます：
- バグレポートの提出
- 機能改善の提案
- プルリクエストの送信
- ドキュメントの改善

リポジトリへの問題提起やプルリクエストをお気軽にお寄せください。
